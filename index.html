<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Apurupa Gallery</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* Disable right click and text selection */
    body {
      -webkit-user-select: none;
      -moz-user-select: none;
      user-select: none;
      background-color: #023e8a;
    }
    body::-webkit-scrollbar {
      display: none;
    }
  </style>
</head>
<body class="text-white select-none" oncontextmenu="return false;">

  <!-- Navbar -->
  <nav class="bg-[#0077b6] p-4 shadow-md">
    <div class="container mx-auto flex justify-between items-center">
      <h1 class="text-2xl font-bold">Apurupa Gallery</h1>
      <button id="logoutBtn" class="hidden bg-[#90e0ef] text-black px-4 py-2 rounded hover:bg-white">Logout</button>
    </div>
  </nav>

  <!-- Login Form -->
  <div id="loginSection" class="flex justify-center items-center min-h-screen">
    <div class="bg-white text-black p-8 rounded shadow-lg w-full max-w-md">
      <h2 class="text-2xl font-bold mb-4 text-center">Login to Apurupa Gallery</h2>
      <input id="username" type="text" placeholder="Username" class="w-full mb-4 px-4 py-2 border rounded" />
      <input id="password" type="password" placeholder="Password" class="w-full mb-4 px-4 py-2 border rounded" />
      <button onclick="login()" class="w-full bg-[#0077b6] text-white px-4 py-2 rounded hover:bg-[#0096c7]">Login</button>
      <p id="loginError" class="text-red-600 mt-2 hidden">Invalid credentials</p>
    </div>
  </div>

  <!-- Gallery Section -->
  <div id="gallerySection" class="container mx-auto p-4 hidden">
    <div id="gallery" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"></div>
  </div>

  <!-- Fullscreen Modal -->
  <div id="modal" class="fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center hidden z-50">
    <img id="modal-img" class="max-h-full max-w-full" src="" alt="Full Image">
    <button onclick="closeModal()" class="absolute top-4 right-4 bg-[#90e0ef] text-black px-4 py-2 rounded hover:bg-white">Close</button>
    <button id="copy-url-btn" class="absolute bottom-4 right-4 bg-[#0077b6] px-4 py-2 rounded hover:bg-[#00b4d8]">📋 Copy URL</button>
  </div>

  <script>
    // 🔐 Hardcoded login credentials
    const USERNAME = "admin";
    const PASSWORD = "apurupa123";

    const loginSection = document.getElementById("loginSection");
    const gallerySection = document.getElementById("gallerySection");
    const logoutBtn = document.getElementById("logoutBtn");
    const loginError = document.getElementById("loginError");

    function login() {
      const user = document.getElementById("username").value;
      const pass = document.getElementById("password").value;
      if (user === USERNAME && pass === PASSWORD) {
        localStorage.setItem("loggedIn", "true");
        showGallery();
      } else {
        loginError.classList.remove("hidden");
      }
    }

    function showGallery() {
      loginSection.classList.add("hidden");
      gallerySection.classList.remove("hidden");
      logoutBtn.classList.remove("hidden");
      loadImages();
    }

    document.getElementById("logoutBtn").addEventListener("click", () => {
      localStorage.removeItem("loggedIn");
      location.reload();
    });

    window.onload = () => {
      if (localStorage.getItem("loggedIn") === "true") {
        showGallery();
      }
    };

    // 🖼️ List of .jpg images — UPDATE this list when you add images
    const imageFilenames = [
      "image1.jpg",
      "image2.jpg",
      "image3.jpg",
      "image4.jpg"
    ];

    const baseURL = window.location.origin + "/images/";

    function loadImages() {
      const gallery = document.getElementById("gallery");
      gallery.innerHTML = "";
      imageFilenames.forEach(filename => {
        const img = document.createElement("img");
        img.src = `images/${filename}`;
        img.alt = filename;
        img.className = "rounded shadow-lg cursor-pointer hover:scale-105 transform transition duration-300";
        img.onclick = () => openModal(filename);
        gallery.appendChild(img);
      });
    }

    // Modal logic
    const modal = document.getElementById('modal');
    const modalImg = document.getElementById('modal-img');
    const copyBtn = document.getElementById('copy-url-btn');

    function openModal(filename) {
      modal.classList.remove('hidden');
      modalImg.src = `images/${filename}`;
      copyBtn.setAttribute('data-url', `${baseURL}${filename}`);
    }

    function closeModal() {
      modal.classList.add('hidden');
    }

    // 📋 Copy image URL
    copyBtn.addEventListener('click', () => {
      const url = copyBtn.getAttribute('data-url');
      navigator.clipboard.writeText(url)
        .then(() => {
          copyBtn.innerText = "✅ Copied!";
          setTimeout(() => copyBtn.innerText = "📋 Copy URL", 1500);
        })
        .catch(() => alert("Failed to copy URL"));
    });

    // ⛔ Block Dev Tools (basic)
    document.addEventListener("keydown", function (e) {
      if (
        e.key === "F12" ||
        (e.ctrlKey && e.shiftKey && (e.key === "I" || e.key === "C" || e.key === "J")) ||
        (e.ctrlKey && e.key === "U")
      ) {
        e.preventDefault();
      }
    });
  </script>
</body>
</html>
